<div class="auth-wrap">
  <!-- HERO -->
  <aside class="panel">
    <div class="content">
      <h1 class="title-panel">Aumakki Marketplace</h1>
      <p class="subtitle">Todo lo que necesita tu mascota en un solo lugar</p>
    </div>
    <img src="assets/images/login.svg" class="image" alt="login image" />
  </aside>

  <!-- FORM CARD -->
  <main class="card form-card">
    <header class="form-head">
      <h2>Iniciar sesi√≥n</h2>
      <div class="segmented">
        <button type="button" (click)="switchLanguage('es')" [class.active]="currentLanguage==='es'">ES</button>
        <button type="button" (click)="switchLanguage('en')" [class.active]="currentLanguage==='en'">EN</button>
      </div>
    </header>

    <form [formGroup]="loginForm" (ngSubmit)="login()" novalidate>
      <!-- Usuario -->
      <label class="field">
        <span class="label">Correo o usuario</span>
        <div class="input-wrap">
          <svg class="i" viewBox="0 0 24 24" aria-hidden="true"><path d="M4 6h16v12H4z" fill="none" stroke="currentColor" stroke-width="1.6"/><path d="M4 8l8 5 8-5" fill="none" stroke="currentColor" stroke-width="1.6"/></svg>
          <input class="input" type="text" formControlName="username" placeholder="Ingresa tu usuario" />
        </div>
      </label>

      <!-- Password -->
      <label class="field">
        <span class="label">Contrase√±a</span>
        <div class="input-wrap">
          <svg class="i" viewBox="0 0 24 24" aria-hidden="true"><path d="M6 10h12v10H6z" fill="none" stroke="currentColor" stroke-width="1.6"/><path d="M8 10V7a4 4 0 0 1 8 0v3" fill="none" stroke="currentColor" stroke-width="1.6"/></svg>
          <input class="input" [type]="hide ? 'password' : 'text'" formControlName="password" placeholder="Ingresa tu contrase√±a" />
          <button type="button" class="eye" (click)="togglePasswordVisibility()" aria-label="Mostrar/ocultar contrase√±a">üëÅÔ∏è</button>
        </div>
      </label>

      <div class="row-between">
        <a routerLink="/auth/forgot" class="link small">Olvid√© mi contrase√±a</a>
      </div>

      <button type="submit" class="btn primary full" [disabled]="!loginForm.valid || submitting">
        <span *ngIf="!submitting">Ingresar</span>
        <span class="spinner" *ngIf="submitting"></span>
      </button>

      <p class="muted center mt-2">
        ¬øNo tienes cuenta?
        <a class="link brand" routerLink="/auth/register">Reg√≠strate</a>
      </p>

      <div class="divider"><span>o contin√∫a con</span></div>

      <div class="oauth-grid">
        <button type="button" class="oauth-btn" (click)="loginWithGoogle()">
          <img src="assets/icons/icon_google.webp" alt="Google" class="oauth-logo" width="18" height="18" loading="lazy" />
          <span>Google</span>
        </button>

        <button type="button" class="btn ghost full" (click)="demoLogin()">Entrar en modo demo</button>
      </div>
    </form>
  </main>
</div>
