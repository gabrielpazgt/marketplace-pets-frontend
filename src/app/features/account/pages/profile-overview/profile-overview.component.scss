.p { padding: var(--sp-4); }

.profile {
  display: grid;
  gap: var(--sp-4);
}

/* ===== Header ===== */
.profile__header {
  display: grid;
  grid-template-columns: 72px 1fr auto auto;
  align-items: center;
  gap: var(--sp-4);

  .avatar{
    width:72px; height:72px; border-radius:20px; display:grid; place-items:center;
    font-weight: 800; font-size: 1.6rem; color: var(--ink);
    position: relative; isolation: isolate; overflow: hidden;

    &::before{
      content:""; position:absolute; inset:-2px; border-radius:22px;
      background: conic-gradient(from 180deg, var(--brand), var(--accent));
      -webkit-mask:linear-gradient(#000 0 0) content-box,linear-gradient(#000 0 0);
      -webkit-mask-composite: xor; mask-composite: exclude; padding:2px;
    }
    &::after{
      content:""; position:absolute; inset:0; border-radius:20px;
      background: radial-gradient(120px 120px at 50% 50%, color-mix(in srgb, #ffd9a6, #fff 70%) 0, #fff 70%);
    }
    > * { position: relative; z-index: 1; }

    /* Imagen del avatar */
    img{
      width: 100%; height: 100%;
      object-fit: cover; /* por si luego son fotos reales */
      display: block;
      border-radius: 18px;
    }
  }

  .id{
    min-width: 0; /* permite wrap correcto en móviles */
  }
  .id h2 { margin: 0 0 4px; line-height: var(--lh-tight); word-break: break-word; }
  .email { margin: 0 0 6px; word-break: break-word; }
  .badges {
    display:flex; align-items:center; gap: 10px; flex-wrap: wrap;
    .badge.plan{
      padding: 4px 10px; border-radius: var(--r-pill);
      background: var(--chip); border:1px solid var(--line); font-weight: 800;
      &.premium{ background: linear-gradient(90deg, #ffd166, #f4b400); color:#231f00; border: 0; }
      &.vip{ background: linear-gradient(90deg, #b2f5ea, #06b6d4); color:#022c22; border: 0; }
    }
    .small { font-size: var(--fs-sm); }
  }

  .kpis {
    display:flex; gap:8px; flex-wrap: wrap; justify-self: end;
  }
  .actions { display:flex; gap:8px; flex-wrap: wrap; justify-self: end; }

  @media (max-width: 980px){
    grid-template-columns: 56px 1fr;
    gap: var(--sp-3);

    .avatar{ width:56px; height:56px; }
    .id{ margin-top: 2px; }

    .kpis { grid-column: 1 / -1; justify-self: start; }
    .actions { grid-column: 1 / -1; justify-self: start; }
  }

  @media (max-width: 420px){
    .kpis .chip { font-size: var(--fs-xs); }
    .actions .btn { padding: .5rem .8rem; }
  }
}

/* ===== Quick actions ===== */
.profile__quick{
  display: grid;
  grid-auto-flow: column;
  grid-auto-columns: max-content;
  justify-content: start;
  gap: 10px;
  overflow-x: auto;
  padding-bottom: 6px;
  .quick{
    padding: 8px 12px; border:1px solid var(--line); border-radius: var(--r-pill);
    background: var(--chip); font-weight: 800; white-space: nowrap;
    transition: background var(--t-base) var(--timing);
  }
  .quick:hover{ background: rgba(255,167,38,.12); }
}

/* ===== Grid principal ===== */
.profile__grid{
  display:grid;
  grid-template-columns: 1fr 1fr;
  gap: var(--sp-4);
  align-items: start; /* evita que una card alta estire a su vecina */
  @media (max-width: 980px){ grid-template-columns: 1fr; }
}

.rows{
  display:grid; gap: 8px; margin: 10px 0 var(--sp-4);
  .label{ color: var(--muted); font-size: var(--fs-sm); }
  .value{ font-weight: 800; }
  & > div{ display:grid; grid-template-columns: 180px 1fr; gap: 10px; align-items:center; }
  @media (max-width: 520px){
    & > div{ grid-template-columns: 1fr; }
  }
}

.actions-row{ display:flex; gap:8px; flex-wrap: wrap; }

/* ===== Direcciones ===== */
.profile__addresses{
  .head{ display:flex; align-items:center; justify-content:space-between; margin-bottom: 10px; }
}

.addr-list{ display:grid; gap: 10px; }
.addr-item{
  border:1px solid var(--line); border-radius: var(--r-md); padding: 12px;
  display:grid; gap:8px; background: #fff;

  header{ display:flex; gap:8px; align-items:center; flex-wrap: wrap; }
  .tag{
    display:inline-grid; place-items:center; padding: 4px 10px; font-size: var(--fs-sm);
    border:1px solid var(--line); border-radius: var(--r-pill); background: var(--chip); font-weight: 800;
    &.default{ background: linear-gradient(90deg, var(--brand), var(--brand-700)); color:#fff; border: 0; }
  }
  .addr-body .line { line-height: var(--lh-tight); word-break: break-word; }
  .addr-actions{ display:flex; gap:8px; flex-wrap: wrap; }
}

/* Formulario inline de dirección */
.addr-form{
  margin-top: var(--sp-4); padding: var(--sp-4);
  .grid{ display:grid; gap: var(--sp-4); grid-template-columns: repeat(2, minmax(0,1fr)); }
  .field{ display:grid; gap:6px; }
  .col-2{ grid-column: span 2; }
  .actions{ display:flex; gap:8px; justify-content:end; margin-top: var(--sp-4); }
  @media (max-width: 720px){ .grid{ grid-template-columns: 1fr; } .col-2{ grid-column: auto; } }
}

/* Empty state */
.empty{
  padding:28px; display:flex; gap:18px; align-items:center; border:1px dashed var(--line);
  .art{
    width:96px; height:96px; border-radius:20px; flex:0 0 auto;
    background: radial-gradient(70px 70px at 60% 40%, rgba(255,167,38,.25), transparent 60%),
                radial-gradient(60px 60px at 35% 70%, rgba(66,165,245,.25), transparent 60%),
                var(--surface-100);
  }
  h4{ margin:0 0 4px; }
}
